<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <DataTemplate x:Key="HeaderTemplateStyle">
        <TextBlock Text="{Binding}" 
                   Margin="4 0"
                   VerticalAlignment="Center"
                   Foreground="{DynamicResource ItemText}"
                   Width="{Binding
                        RelativeSource={RelativeSource
                        Mode=FindAncestor,
                        AncestorType={x:Type Expander}},
                        Path=ActualWidth}"
                   TextWrapping="Wrap" />
    </DataTemplate>

    <Style TargetType="Expander">
        <Setter Property="HeaderTemplate" Value="{StaticResource HeaderTemplateStyle}"/>
    </Style>

</ResourceDictionary>